@use "src/styles/mixins";

// Preview pane entrance animation
@keyframes preview-pane-open {
	from {
		opacity: 0;
		transform: translateX(80%);
	}
}

// Preview pane showcase
.previewer-showcase {
	@include mixins.flex($align: center);

	// Preview pane sidebar
	.preview-pane {
		@include mixins.flex($direction: column);
		width: 29rem;
		height: 40rem;
		padding: 1rem;
		border-radius: var(--overlay-corner-radius) 0 0 var(--overlay-corner-radius);
		animation: 400ms cubic-bezier(0.1, 0.9, 0.2, 1) preview-pane-open backwards 800ms;

		// Inner preview pane elements
		// File preview and file metadata
		.preview, .metadata { padding: 8px }

		// File preview
		// Main container for rich previewsT
		.preview {
			@include mixins.flex($align: center);
			flex: 0 0 auto;
			height: 144px;
		}

		// Rich preview elements
		img,
		iframe,
		:global(pre) {
			width: 100%;
			height: 100%;
			overflow: auto;
		}

		img {
			user-select: none;
			-webkit-user-drag: none;
			object-fit: contain;
		}

		iframe { border-radius: var(--control-corner-radius); }

		:global {
			pre {
				margin: 0;
				font-family: var(--font-family-monospace);
				user-select: text;

				&::-webkit-scrollbar {
					display: none;
				}
			}
		}

		// Grabber
		// Used for scaling up the preview size
		.grabber {
			@include mixins.flex($align: center, $justify: center);
			flex: 0 0 auto;
			width: 100%;
			height: 20px;
			cursor: n-resize;

			// Inner grabber
			&::before {
				content: "";
				position: absolute;
				width: 28px;
				height: 4px;
				border-radius: 4px;
				background: var(--subtle-color-secondary);
			}
		}

		// File metadata
		// Displays information relating to the relevant file
		.metadata {
			color: var(--text-color-secondary);
			font: {
				size: var(--control-font-size);
				weight: normal;
			}
			line-height: normal;
			word-break: break-word;
			user-select: text;
		}

		// Metadata elements
		h4, h5, h6 { color: var(--text-color-primary) }

		h4, h5 {
			margin: 0;
			text-align: center;
		}

		// Used to display file name
		h4 {
			margin-bottom: 5px;
			font: {
				size: 20px;
				weight: 600;
			}
			font-family: var(--font-family-sans-serif);
		}

		// Used to display file extension
		h5 {
			font: {
				size: 14px;
				weight: normal;
			}
		}

		// Used as secondary headers for metadata entries
		h6 {
			margin: 8px 0 2px;
			font: {
				size: var(--control-font-size);
				weight: normal;
			}
			user-select: none;
		}
	}

	// Files GridView
	// Serves as a picker for previewing files
	.files-grid {
		position: relative;
		z-index: 1;
		display: grid;
		grid-gap: 4px;
		padding: 12px;
		animation: feature-preview 500ms cubic-bezier(0.165, 0.84, 0.44, 1) backwards 400ms;

		// File entries
		.file {
			@include mixins.flex($direction: column, $justify: between, $align: center);
			width: 8.5rem;
			height: 10rem;
			padding: 12px;
			border-radius: var(--control-corner-radius);
			color: var(--text-color-primary);
			font-size: var(--control-font-size);

			&:hover { background-color: var(--subtle-color-secondary) }

			&:active { background-color: var(--subtle-color-tertiary) }

			&.selected {
				border-radius: calc(var(--control-corner-radius) + 2px);
				background-color: var(--subtle-color-secondary);
				box-shadow: inset 0 0 0 2px var(--accent-color-default),
				inset 0 0 0 3px var(--background-base);
			}

			// File entry icon
			img {
				width: 88%;
				height: auto;
			}
		}
	}
}